<template>
  <section id="screen_1" class="screen">
    <div class="parallax-scene">
      <div id="screen-one-svg" class="svg-wrap">
        <svg
          id="line-coin"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewbox="0 0 2939.9 904.8"
          xml:space="preserve"
        >
          <path
            id="trail"
            class="st0"
            d="M2938.1,174 M137.5,714.5c4.2-4.4,42.5-43.6,98-82.7c86.2-60.5,169.7-90,248.3-87.7				c40.1,1.2,58.4-8.1,88.7-23.6c29.3-15,69.3-35.4,122.2-39.9c55.3-4.7,112.7,9.3,175.4,42.6c61.1,32.5,136.1,49.7,269.8-44.2				c66-46.3,130.5-85.4,186.6-113c71.5-35.2,127.4-51.4,175.7-51c36.6,0.3,69.7,8.7,98.9,16.1c17.7,4.5,47.3,12,56.9,10				c90.4-18.4,164.9-65.8,230.7-107.6c57.9-36.8,112.7-71.6,174.4-84.5c50.4-10.6,92.8-8.2,127-6.3c37.1,2.1,47,1.9,59.7-4.6				c9-4.6,19.2-10.4,30.1-16.5c37.2-20.9,83.4-47,143.1-64.1c71.7-20.5,145.2-23.1,224.6-7.9c28.5,5.5,41.1,2.9,43.9,2.2				c3.3-3.2,9.7-12.9,14.1-19.4c6.2-9.3,13.2-19.8,22.1-30.7 M714.3,751.6C714.3,751.6,714.3,751.6,714.3,751.6L714.3,751.6z				M2118.9,415.2C2118.9,415.2,2118.9,415.2,2118.9,415.2C2118.9,415.2,2118.9,415.2,2118.9,415.2z"
          ></path>
          <path
            id="line"
            class="st0"
            d="M235.6,808.8c0,0,127.1-132.2,244.2-128.7c172.5,5.2,174.8-117.5,326.4-36.8s288.8,33.5,411.9-53				s231.6-139.7,283-139.3s118.2,36.8,184.2,23.3c193.7-39.5,313.5-172.9,405.7-192.2c80.5-16.9,141.8,17.6,220.9-23				c74.4-38.2,156.5-105.3,310.1-75.9s181.5-59.7,210.5-94.8"
          ></path>
          <circle id="dot_1" class="st1" cx="708.5" cy="614.7" r="12"></circle>
          <circle id="dot_2" class="st1" cx="1496.5" cy="450.9" r="12"></circle>
          <g id="coin">
            <circle
              id="图层_404"
              class="st2"
              cx="137.5"
              cy="714.5"
              r="136"
            ></circle>
            <circle
              id="椭圆_2"
              class="st3"
              cx="137.3"
              cy="714.3"
              r="135.6"
            ></circle>
            <circle
              id="椭圆_1_2_"
              class="st4"
              cx="137.5"
              cy="714.5"
              r="96.1"
            ></circle>
            <path
              id="图层_414"
              class="st5"
              d="M125.4,794.4h-16.3v-21.2l-25.7,0.6l3.2-21.5h11.5l0.7-75.7l-18.6,0.7l-0.4-15l29.3-1.5v-26.1					h16.3v24.8l9-0.7v-24.1h16.3v22.9c5.6-0.1,28.1,0.8,36.1,17c9.2,18.6-10.7,31.1-10.7,31.1s18.4,6,19.1,22.7					c1.6,39.8-42.7,42.1-42.7,42.1l-1.9,0.1v23.6h-16.3v-22.5l-9,0.6L125.4,794.4z M125.2,719.3l0.9,32.3c0,0,41.6,6.2,38.9-20.4					C163.1,711.5,125.2,719.3,125.2,719.3L125.2,719.3z M123.7,677.1l0.8,27.9c0,0,35.9,5.4,33.6-17.6					C156.5,670.4,123.7,677.1,123.7,677.1z"
            ></path>
            <circle
              id="图层_409"
              class="st6"
              cx="137.5"
              cy="714.5"
              r="110.4"
            ></circle>
          </g>
          <g id="graph">
            <image
              id="图层_58"
              style="overflow:visible;enable-background:new    ;"
              width="5"
              height="162"
              xlink:href="/images/home/decor/graph/FE9E6464.png"
              transform="matrix(1 0 0 1 305 609.8283)"
            ></image>
            <path id="图层_59" class="st7" d="M378.1,571.2l-0.5,157.5"></path>
            <path id="图层_60" class="st8" d="M450.7,530.9l-0.5,157.5"></path>
            <path id="图层_61" class="st8" d="M510.3,574.2l-0.5,157.5"></path>
            <path id="图层_62" class="st7" d="M568.2,505.4l-0.5,157.5"></path>
            <path id="图层_63" class="st7" d="M760.3,530.9l-0.5,157.5"></path>
            <path id="图层_64" class="st7" d="M839,589.8l-0.5,157.5"></path>
            <path id="图层_65" class="st7" d="M919.8,618.9l-0.5,157.5"></path>
            <path id="图层_66" class="st7" d="M1008.3,599.8l-0.5,157.5"></path>
            <path id="图层_67" class="st7" d="M1082.7,530.9l-0.5,157.5"></path>
            <path id="图层_68" class="st7" d="M1147,442.5l-0.5,157.5"></path>
            <path id="图层_69" class="st8" d="M1254.6,418.3l-0.5,157.5"></path>
            <path id="图层_70" class="st8" d="M1366.3,373.4l-0.5,157.5"></path>
            <path id="图层_71" class="st8" d="M1455.7,333.4l-0.5,157.5"></path>
            <path id="图层_72" class="st8" d="M1517.9,310.2l-0.5,157.5"></path>
            <path id="图层_73" class="st8" d="M1586.6,373.4l-0.5,157.5"></path>
            <path id="图层_74" class="st9" d="M1656.4,373.4l-0.5,157.5"></path>
            <path id="图层_75" class="st9" d="M1745,285.5l-0.5,157.5"></path>
            <path id="图层_76" class="st8" d="M1815.6,308.5l-0.5,157.5"></path>
            <path id="图层_77" class="st8" d="M1877,269.8l-0.5,157.5"></path>
            <path id="图层_78" class="st8" d="M1948.6,211.8l-0.5,157.5"></path>
            <path id="图层_79" class="st8" d="M2007.4,134.3l-0.5,157.5"></path>
            <path id="图层_80" class="st8" d="M2076.7,145.2l-0.5,157.5"></path>
            <path id="图层_81" class="st9" d="M2134.9,192.8l-0.5,157.5"></path>
            <path id="图层_82" class="st9" d="M2189.4,138.9l-0.5,157.5"></path>
            <path id="图层_83" class="st9" d="M2256.1,173.3l-0.5,157.5"></path>
            <path id="图层_84" class="st8" d="M2571.4,69.1l-0.5,157.5"></path>
            <path id="图层_85" class="st8" d="M2681.2,43.4l-0.5,157.5"></path>
            <path id="图层_86" class="st8" d="M2760.4-6.7l-0.5,157.5"></path>
            <path id="图层_87" class="st8" d="M2468.1,30.7l-0.5,157.5"></path>
            <path id="图层_88" class="st7" d="M675.4,428.3l-0.5,157.5"></path>
            <image
              id="图层_91"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E646B.png"
              transform="matrix(1 0 0 1 298 637.8283)"
            ></image>
            <image
              id="图层_93"
              style="overflow:visible;enable-background:new;"
              width="19"
              height="107"
              xlink:href="/images/home/decor/graph/FE9E646C.png"
              transform="matrix(1 0 0 1 368 597.8283)"
            ></image>
            <image
              id="图层_95"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E646D.png"
              transform="matrix(1 0 0 1 440 556.8283)"
            ></image>
            <image
              id="图层_97"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="107"
              xlink:href="/images/home/decor/graph/FE9E646A.png"
              transform="matrix(1 0 0 1 500 600.8283)"
            ></image>
            <image
              id="图层_99"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E6469.png"
              transform="matrix(1 0 0 1 558 531.8283)"
            ></image>
            <image
              id="图层_101"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E6478.png"
              transform="matrix(1 0 0 1 750 556.8283)"
            ></image>
            <image
              id="图层_103"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E6479.png"
              transform="matrix(1 0 0 1 828 615.8283)"
            ></image>
            <image
              id="图层_105"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/FE9E647A.png"
              transform="matrix(1 0 0 1 909 644.8283)"
            ></image>
            <image
              id="图层_107"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48256.png"
              transform="matrix(1 0 0 1 998 625.8283)"
            ></image>
            <image
              id="图层_109"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48255.png"
              transform="matrix(1 0 0 1 1072 556.8283)"
            ></image>
            <image
              id="图层_111"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48252.png"
              transform="matrix(1 0 0 1 1136 468.8283)"
            ></image>
            <image
              id="图层_113"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="109"
              xlink:href="/images/home/decor/graph/CCE4824D.png"
              transform="matrix(1 0 0 1 1244 443.8283)"
            ></image>
            <image
              id="图层_115"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE4824C.png"
              transform="matrix(1 0 0 1 1355 399.8283)"
            ></image>
            <image
              id="图层_117"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="109"
              xlink:href="/images/home/decor/graph/CCE4824B.png"
              transform="matrix(1 0 0 1 1445 358.8283)"
            ></image>
            <image
              id="图层_119"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="109"
              xlink:href="/images/home/decor/graph/CCE48272.png"
              transform="matrix(1 0 0 1 1507 335.8283)"
            ></image>
            <image
              id="图层_121"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48275.png"
              transform="matrix(1 0 0 1 1576 399.8283)"
            ></image>
            <image
              id="图层_123"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48276.png"
              transform="matrix(1 0 0 1 1646 399.8283)"
            ></image>
            <image
              id="图层_125"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48274.png"
              transform="matrix(1 0 0 1 1734 311.8283)"
            ></image>
            <image
              id="图层_127"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE4826A.png"
              transform="matrix(1 0 0 1 1805 334.8283)"
            ></image>
            <image
              id="图层_129"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE4829C.png"
              transform="matrix(1 0 0 1 1866 295.8283)"
            ></image>
            <image
              id="图层_131"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE4829E.png"
              transform="matrix(1 0 0 1 1938 237.8283)"
            ></image>
            <image
              id="图层_133"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="109"
              xlink:href="/images/home/decor/graph/CCE482A2.png"
              transform="matrix(1 0 0 1 1997 159.8283)"
            ></image>
            <image
              id="图层_135"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE482A3.png"
              transform="matrix(1 0 0 1 2066 170.8283)"
            ></image>
            <image
              id="图层_137"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE482A4.png"
              transform="matrix(1 0 0 1 2124 218.8283)"
            ></image>
            <image
              id="图层_139"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE482A5.png"
              transform="matrix(1 0 0 1 2178 164.8283)"
            ></image>
            <image
              id="图层_141"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="109"
              xlink:href="/images/home/decor/graph/CCE482A6.png"
              transform="matrix(1 0 0 1 2245 198.8283)"
            ></image>
            <image
              id="图层_143"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE482A7.png"
              transform="matrix(1 0 0 1 2560 94.8283)"
            ></image>
            <image
              id="图层_145"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE482A8.png"
              transform="matrix(1 0 0 1 2670 69.8283)"
            ></image>
            <image
              id="图层_147"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="109"
              xlink:href="/images/home/decor/graph/CCE482BB.png"
              transform="matrix(1 0 0 1 2750 18.8283)"
            ></image>
            <image
              id="图层_149"
              style="overflow:visible;enable-background:new;"
              width="21"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48284.png"
              transform="matrix(1 0 0 1 2457 56.8283)"
            ></image>
            <image
              id="图层_151"
              style="overflow:visible;enable-background:new;"
              width="20"
              height="108"
              xlink:href="/images/home/decor/graph/CCE48287.png"
              transform="matrix(1 0 0 1 665 454.8283)"
            ></image>
          </g>
        </svg>
      </div>
      <div class="background">
        <img src="/images/home/screen-1/background.jpg" alt="" />
      </div>
      <div class="scene-element top-man">
        <img src="/images/home/screen-1/man-top.png" alt="" />
      </div>
      <div class="scene-element sky"></div>
      <div class="scene-element back-buildings">
        <img src="/images/home/screen-1/back-buildings.png" alt="" />
      </div>
      <div class="scene-element top-buildings">
        <img src="/images/home/screen-1/top-buildings.png" alt="" />
      </div>
    </div>
    <div class="container">
      <div class="buttons">
        <a class="button filled" href="#">Sign Up</a
        ><a class="button rounded" href="#">Login</a>
      </div>
    </div>
    <div id="section-scroller-button"></div>
  </section>
</template>

<script>
export default {
  name: 'Section1',
  mounted() {
    this.coinRun()
  },
  methods: {
    coinRun() {
      const e = Snap('#line-coin')
      const a = e.select('#coin')
      const t = a.getBBox()
      const i = e.select('#trail')
      const n = Snap.path.getTotalLength(i.attr('d'))
      const o = i.getPointAtLength(0)
      a.attr({
        transform:
          't' +
          [o.x - t.h / 2, o.y - t.cy] +
          'r' +
          setInterval(function() {
            10
          }, 1)
      }),
        Snap.animate(
          0,
          n,
          function(e) {
            const n = i.getPointAtLength(e - 1)
            a.attr({
              transform:
                't' +
                [n.x - t.h / 2, n.y - t.cy] +
                'r' +
                setInterval(function() {
                  2
                }, 1)
            })
          },
          3500,
          mina.easeout,
          function(e) {
            const n = i.getPointAtLength(e - 1)
            a.animate(
              {
                transform:
                  't' +
                  [n.x + t.h, n.y - t.cy] +
                  'r' +
                  setInterval(function() {
                    2
                  }, 1)
              },
              300
            )
          }
        )
    }
  }
}
</script>

<style lang="scss" scoped>
#screen_1 {
  z-index: 1;
  position: relative;
  height: 100vh;
  width: 100%;
  overflow: hidden;
}

.screen.active#screen_1 .svg-wrap {
  opacity: 1;
}

.screen.active#screen_1 .scene-element.top-man {
  transform: translateY(0);
}

.screen.active#screen_1 .scene-element.back-buildings,
.screen.active#screen_1 .scene-element.top-buildings {
  opacity: 1;
  transform: translateY(0);
}

.screen.active#screen_1 .scene-element.sky {
  opacity: 1;
}

#screen_1 .container {
  height: 100vh;
  position: absolute;
  right: 0;
  top: 0;
  padding-right: 150px;
  padding-bottom: 300px;
  justify-content: flex-end;
  flex-direction: row;
  align-items: flex-end;
  align-content: flex-end;
  z-index: 5;
  left: 0;
}

#screen_1 .container .buttons a:not(:last-child) {
  margin-right: 30px;
}

#screen_1 .svg-wrap {
  position: absolute;
  z-index: 4;
  left: 0;
  width: 100%;
  height: auto;
  transition: opacity 0.4s;
  opacity: 0;
  top: 100px;
}

#screen_1 .parallax-scene {
  position: relative;
  z-index: 0;
  width: 100%;
  height: 100%;
}

#screen_1 .background {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

#screen_1 .background img {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  margin: auto;
  -o-object-fit: cover;
  object-fit: cover;
}

#screen_1 .scene-element {
  position: absolute;
  left: 0;
}

#screen_1 .container .buttons {
  position: relative;
  display: inline-block;
}

#screen_1 .scene-element.top-man {
  left: 30%;
  z-index: 5;
  transition: transform 0.5s;
  transform: translateY(-100%);
}

#screen_1 .scene-element.top-man img {
  width: auto;
  height: auto;
}

#screen_1 .scene-element.sky {
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 3;
  background-image: url(/images/home/screen-1/sky.png);
  background-repeat: repeat-x;
  background-position: center center;
  background-size: contain;
  height: 300px;
  -webkit-animation: animatedBackground 100s linear infinite;
  animation: animatedBackground 100s linear infinite;
  transition: all 0.5s;
  opacity: 0;
}

#screen_1 .scene-element.back-buildings {
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  transition: all 0.5s;
  opacity: 0;
  transform: translateY(20%);
}

#screen_1 .scene-element.back-buildings img {
  width: 100%;
}

#screen_1 .scene-element.top-buildings {
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 5;
  transition: all 0.5s;
  opacity: 0;
  transform: translateY(10%);
}

#screen_1 .scene-element.top-buildings img {
  width: 100%;
}

svg#line-coin {
  width: 3300px;
  position: relative;
  left: -300px;
  margin: 0 auto;
  right: -300px;
  height: auto;
  fill: none;
}

svg#line-coin .st0 {
  fill: none;
  stroke: #00f7ff;
  stroke-width: 3.52;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-miterlimit: 1.5;
}

svg#line-coin .st1 {
  fill: #00f7ff;
}

svg#line-coin .st2 {
  opacity: 0.38;
  fill: #0011d2;
  enable-background: new;
}

svg#line-coin .st3,
svg#line-coin .st4 {
  fill: none;
  stroke: #00f7ff;
  stroke-width: 3.5;
}

svg#line-coin .st4 {
  stroke-width: 3;
}

svg#line-coin .st5 {
  fill: #fff;
}

svg#line-coin .st6 {
  fill: none;
  stroke: #00f7ff;
  stroke-width: 3.35;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 12.56, 15.28, 0, 0;
}

svg#line-coin #trail {
  display: none;
}

.button.filled {
  color: #b2243c;
  background-color: #fff;
}

.button.filled:hover {
  color: #fff;
  background-color: transparent;
}

.button.rounded {
  color: #fff;
}

.button.rounded:hover {
  color: #b2243c;
  background-color: #fff;
}

@media screen and (max-width: 2000px) {
  #screen_1 .container {
    padding-right: 100px;
    padding-bottom: 200px;
  }

  #screen_1 .svg-wrap {
    bottom: 150px;
    top: auto;
  }

  #screen_1 .svg-wrap svg#line-coin {
    width: 2600px;
    left: -250px;
    right: -250px;
  }
}

@media screen and (max-width: 1600px) {
  .container {
    padding: 0 30px;
  }

  #section-scroller-button {
    width: 250px;
    bottom: 0;
  }

  #section-scroller-button .txt {
    font-size: 32px;
    line-height: 32px;
  }

  #section-scroller-button .icn img {
    max-height: 45px;
  }

  #screen_1 .svg-wrap {
    top: 0;
  }

  #screen_1 .svg-wrap svg#line-coin {
    width: 2200px;
    left: -250px;
    right: -150px;
  }
}

@media screen and (max-height: 700px) and (min-width: 768px) {
  #screen_1 .svg-wrap {
    bottom: 130px;
    top: auto;
  }

  .container .head {
    padding-top: 75px !important;
  }

  .container .text-wrp {
    padding-top: 100px !important;
  }
}
</style>
